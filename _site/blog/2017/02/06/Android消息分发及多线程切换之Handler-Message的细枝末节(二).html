<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Androidæ¶ˆæ¯åˆ†å‘åŠå¤šçº¿ç¨‹åˆ‡æ¢ä¹‹Handlerã€Messageçš„ç»†ææœ«èŠ‚ï¼ˆäºŒï¼‰</title>
  <meta name="description" content="ä¹‹å‰è¯´äº†Androidæ¶ˆæ¯åˆ†å‘å’Œå¤šçº¿ç¨‹åˆ‡æ¢çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œè¿™æ¬¡æ¥è¯´ä¸€ä¸‹æ¶ˆæ¯ä¼ é€’çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå¥½åƒä¸Šä¸€ç¯‡å†…å®¹ä¸çœ‹è²Œä¼¼ä¹Ÿå¯ä»¥ç›´æ¥çœ‹è¿™ç¯‡ï¼Œä¸è¿‡å»ºè®®è¿˜æ˜¯çœ‹ä¸€ä¸‹å¯ä»¥äº†è§£çš„æ›´é€å½»ä¸€ç‚¹å§~~">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://yourdomain.com/blog/2017/02/06/Android%E6%B6%88%E6%81%AF%E5%88%86%E5%8F%91%E5%8F%8A%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%88%87%E6%8D%A2%E4%B9%8BHandler-Message%E7%9A%84%E7%BB%86%E6%9E%9D%E6%9C%AB%E8%8A%82(%E4%BA%8C).html">
  <link rel="alternate" type="application/rss+xml" title="coder_yu's BLOG" href="http://yourdomain.com/feed.xml">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">coder_yu's BLOG</a>

    <!-- <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/2016-06-06-welcome-to-jekyll.html">Welcome to Jekyll!</a>
          
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav> -->

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Androidæ¶ˆæ¯åˆ†å‘åŠå¤šçº¿ç¨‹åˆ‡æ¢ä¹‹Handlerã€Messageçš„ç»†ææœ«èŠ‚ï¼ˆäºŒï¼‰</h1>
    <p class="post-meta"><time datetime="2017-02-06T23:10:00+08:00" itemprop="datePublished">Feb 6, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>ä¹‹å‰è¯´äº†Androidæ¶ˆæ¯åˆ†å‘å’Œå¤šçº¿ç¨‹åˆ‡æ¢çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œè¿™æ¬¡æ¥è¯´ä¸€ä¸‹æ¶ˆæ¯ä¼ é€’çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå¥½åƒä¸Šä¸€ç¯‡å†…å®¹ä¸çœ‹è²Œä¼¼ä¹Ÿå¯ä»¥ç›´æ¥çœ‹è¿™ç¯‡ï¼Œä¸è¿‡å»ºè®®è¿˜æ˜¯çœ‹ä¸€ä¸‹å¯ä»¥äº†è§£çš„æ›´é€å½»ä¸€ç‚¹å§~~</p>

<p>ä¸Šä¸€ç¯‡è¯·çœ‹ï¼šhttp://www.jianshu.com/p/e914cda1b5fe</p>

<p>ä¸‹é¢å¼€å§‹æœ¬ç¯‡çš„ä¸»é¢˜å§ï¼Œæˆ‘å°†æŒ‰ç…§Handlerå’ŒMessageçš„ä¸€èˆ¬ä½¿ç”¨æµç¨‹ï¼Œè·Ÿç€ä»£ç è°ƒç”¨é“¾ä¸€æ­¥æ­¥å¾€ä¸‹èµ°ï¼Œæ‰€ä»¥ï¼Œçœ‹ä»£ç å§ï¼</p>

<p>é¦–å…ˆåœ¨ä¸»çº¿ç¨‹å®šä¹‰ä¸€ä¸ªhandlerï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	Handler handler = new Handler(){
            @Override
            public void handleMessage(Message msg) {
                super.handleMessage(msg);
                switch (msg.what){
                    case TEST:
                        handleTest(msg);
                        break;
                    default:
                        handleDefault(msg);
                        break;
                }
            }
       };
</code></pre>
</div>
<p>ç„¶ååœ¨å·¥ä½œçº¿ç¨‹ä¸­ä½¿ç”¨æ‹¿åˆ°handlerçš„å¼•ç”¨ï¼Œç›´æ¥ä½¿ç”¨ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	new Thread(){
            @Override
            public void run() {
                super.run();
                Message message = Message.obtain();
                message.what = TEST;
                Bundle bundle =new Bundle();
                bundle.putString("test key","test value");
                message.setData(bundle);
       			handler.sendMessage(msg);                
            }
        }.start();
</code></pre>
</div>
<p>ä»¥ä¸Šå³ä¸ºä¸€ä¸ªç®€å•ä½¿ç”¨åœºæ™¯ï¼Œåœ¨å·¥ä½œçº¿ç¨‹ä¸­é€šè¿‡å°†Messageå‘é€åˆ°ä¸»çº¿ç¨‹çš„handlerï¼Œè®©handleråœ¨ä¸»çº¿ç¨‹ä¸­å¤„ç†UIç›¸å…³çš„æ“ä½œã€‚</p>

<p>æˆ‘ä»¬ä»ç¬¬ä¸€æ®µä»£ç å¼€å§‹ï¼Œå…ˆçœ‹ä¸€ä¸‹Handlerçš„åˆ›å»ºè¿‡ç¨‹ã€‚å¾ˆç®€å•ï¼Œç›´æ¥newä¸€ä¸ªHandlerå¯¹è±¡ï¼Œç„¶åå®ç°å®ƒçš„<strong>handleMessage(Message msg)</strong>æ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªhandlerå¯ä¸æ˜¯éšä¾¿å“ªé‡Œéƒ½èƒ½åˆ›å»ºçš„ï¼Œç›¸ä¿¡å¾ˆå¤šåŒå­¦è‚¯å®šä¹Ÿç¢°åˆ°è¿‡åœ¨åˆ«çš„çº¿ç¨‹ä¸­åˆ›å»ºhandleræŠ¥é”™çš„æƒ…å†µï¼Œç±»ä¼¼<code class="highlighter-rouge">Can't create handler inside thread that has not called Looper.prepare()</code>è¿™æ ·çš„é”™è¯¯æç¤ºï¼Œä¸ºå•¥å‘¢ï¼Ÿ</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	/**
     * Default constructor associates this handler with the {@link Looper} for the
     * current thread.
     *
     * If this thread does not have a looper, this handler won't be able to receive messages
     * so an exception is thrown.
     */
    public Handler() {
        this(null, false);
    }
    
   
    public Handler(Callback callback, boolean async) {
        if (FIND_POTENTIAL_LEAKS) {
            final Class&lt;? extends Handler&gt; klass = getClass();
            if ((klass.isAnonymousClass() || klass.isMemberClass() || klass.isLocalClass()) &amp;&amp;
                    (klass.getModifiers() &amp; Modifier.STATIC) == 0) {
                Log.w(TAG, "The following Handler class should be static or leaks might occur: " +
                    klass.getCanonicalName());
            }
        }

        mLooper = Looper.myLooper();
        if (mLooper == null) {
            throw new RuntimeException(
                "Can't create handler inside thread that has not called Looper.prepare()");
        }
        mQueue = mLooper.mQueue;
        mCallback = callback;
        mAsynchronous = async;
    }
    
</code></pre>
</div>

<p>æœ€ç»ˆè°ƒç”¨åˆ°çš„æ„é€ å™¨ä¸­çš„ç¬¬ä¸€å¤„åˆ¤æ–­æ˜¯ç”¨æ¥æ£€æµ‹å†…å­˜æ³„éœ²ç›¸å…³çš„ï¼Œæˆ‘ä»¬ä¸ç®¡ï¼Œçœ‹<strong>mLooper</strong>å˜é‡çš„èµ‹å€¼ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	/**
     * Return the Looper object associated with the current thread.  Returns
     * null if the calling thread is not associated with a Looper.
     */
    public static @Nullable Looper myLooper() {
        return sThreadLocal.get();
    }
</code></pre>
</div>
<p><strong>sThreadLocal.get()</strong>æ–¹æ³•ä¸Šä¸€ç¯‡æˆ‘ä»¬è®²è¿‡äº†ï¼Œ<strong>sThreadLocal</strong>æ˜¯ä¸€ä¸ªå…¨å±€çš„é™æ€å˜é‡ï¼Œä¿å­˜ç€çº¿ç¨‹å¯¹åº”çš„<strong>looper</strong>å¯¹è±¡ï¼Œ<strong>get()</strong>æ–¹æ³•ç”¨æ¥è·å–å½“å‰çº¿ç¨‹å¯¹åº”çš„<strong>looper</strong>å¯¹è±¡ï¼Œç”±äºæˆ‘ä»¬è¿™ä¸ª<strong>handler</strong>æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­åˆ›å»ºçš„ï¼Œè€Œä¸»çº¿ç¨‹åœ¨<strong>ActivityThread</strong>çš„<strong>main()</strong>æ–¹æ³•ä¸­å·²ç»ä¸ºæˆ‘ä»¬åˆ›å»ºäº†å¯¹åº”çš„<strong>looper</strong>å¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬è¿™é‡Œå»getçš„è¯æ˜¯èƒ½å–åˆ°å€¼çš„ï¼Œæ‰€ä»¥ä¸‹é¢ä¸€è¡Œçš„åˆ¤æ–­ä¸ä¼šæŠ›å¼‚å¸¸ã€‚ä½†æ˜¯ä¸€èˆ¬çš„å·¥ä½œçº¿ç¨‹ï¼Œæˆ‘ä»¬å¦‚æœæ²¡ç”¨ä¸ºå®ƒåˆ›å»º<strong>Looper</strong>å¯¹è±¡ï¼Œå®ƒæ˜¯æ²¡æœ‰å¯¹åº”çš„<strong>Looper</strong>å¯¹è±¡ä¿å­˜åœ¨<strong>sThreadLocal</strong>ä¸­çš„ï¼Œå› æ­¤<strong>Looper.myLooper()</strong>å°±ä¼šè¿”å›nullï¼Œæ¥ä¸‹å»å°±ä¼šæŠ¥é”™ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„åœ¨å·¥ä½œçº¿ç¨‹ä¸­åˆ›å»ºhandlerä¼šæŠ¥é”™çš„åŸå› ã€‚å–åˆ°<strong>mLooper</strong>ä¹‹åï¼Œå°†<strong>mLooper</strong>ä¸­çš„ä¿å­˜<strong>Message</strong>çš„<strong>MessageQueue</strong>ä¹Ÿå–å‡ºä¿å­˜åœ¨<strong>handler</strong>çš„å±æ€§<strong>mQueue</strong>ä¸­ï¼Œç„¶åå°†æ„é€ å™¨çš„å‚æ•°<strong>callback</strong>å’Œ<strong>async</strong>èµ‹å€¼ï¼Œæˆ‘ä»¬è¿™é‡Œéƒ½ä¸ºnullã€‚</p>

<p>è¿™é‡Œå¤§è‡´ä»‹ç»ä¸‹<strong>Handler</strong>çš„å‡ ä¸ªå±æ€§ï¼š</p>

<ul>
  <li>
    <p><strong>boolean mAsynchronousï¼š</strong></p>

    <p>è¿™ä¸ªæ˜¯ç”¨æ¥è¡¨æ˜å¤„ç†<strong>Message</strong>çš„æ—¶å€™æ˜¯å¦éœ€è¦ä¿è¯é¡ºåºï¼Œé»˜è®¤ä¸ºfalseï¼Œè€Œä¸”æˆ‘ä»¬å…¶å®ä¹Ÿæ²¡åŠæ³•å»å°†ä»–è®¾ç½®ä¸ºtrueï¼Œå› ä¸ºè¿™äº›æ„é€ å™¨éƒ½æ˜¯<code class="highlighter-rouge">@hide</code>çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ç®¡å®ƒã€‚</p>
  </li>
  <li>
    <p><strong>Callback mCallbackï¼š</strong></p>

    <p>è¿™ä¸ªæ˜¯Handlerçš„å†…éƒ¨æ¥å£<strong>Callback</strong>ç±»å‹çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒå°±ä¸€ä¸ªæ–¹æ³•ï¼Œä¹Ÿå«
<strong>handleMessage(Message msg)</strong>,åªèƒ½åœ¨æ„é€ å™¨ä¸­ä¼ å‚ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æ„é€ å™¨ä¸­ç»™äº†è¿™ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå‘é€ç»™è¿™ä¸ª<strong>handler</strong>çš„æ¶ˆæ¯å°†ä¼˜å…ˆä¼šç”±è¿™ä¸ª<strong>mCallback</strong>æ¥æ‰§è¡Œï¼Œä¸è¿‡ç›®å‰ä¸ºæ­¢æˆ‘å¹¶ä¸æ¸…æ¥šå“ªäº›åœºæ™¯é€‚ç”¨è¿™ç§æ–¹å¼ï¼ŒçŸ¥é“çš„åŒå­¦æ¬¢è¿æŒ‡æ•™ä¸€ä¸‹~</p>
  </li>
  <li>
    <p><strong>Looper mLooper:</strong></p>

    <p><strong>handler</strong>æ˜¯ç”¨æ¥å¤„ç†<strong>Message</strong>çš„ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»è¦æœ‰<strong>Message</strong>æ¥æºï¼Œè€Œ<strong>Message</strong>çš„æ¥æº<strong>MessageQueue</strong>æ˜¯åœ¨<strong>Looper</strong>ä¸­çš„ï¼Œå› æ­¤<strong>handler</strong>éœ€è¦ä¸€ä¸ª<strong>Looper</strong>å±æ€§ã€‚ä¸€èˆ¬æƒ…å†µä¸‹<strong>mLooper</strong>å³ä¸ºä¸»çº¿ç¨‹æˆ–è€…è¯´æ˜¯åˆ›å»ºå®ƒçš„çº¿ç¨‹æ‰€å¯¹åº”çš„<strong>Looper</strong>,ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼ ä¸€ä¸ªLooperå¯¹è±¡ç»™å®ƒï¼Œå…³äºè¿™ä¸ªå¯ä»¥çœ‹çœ‹<code class="highlighter-rouge">HandlerThread</code>çš„ç›¸å…³çŸ¥è¯†ã€‚</p>
  </li>
  <li>
    <p><strong>MessageQueue mQueueï¼š</strong></p>

    <p>æ²¡å•¥å¥½è¯´çš„ï¼Œè¿™ä¸ªå°±æ˜¯<strong>handler</strong>è¦å¤„ç†çš„æ¶ˆæ¯çš„æ¥æºäº†,å®ƒå’Œ<strong>Looper</strong>ä¸­çš„<strong>mQueue</strong>æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
  </li>
</ul>

<p>åœ¨çœ‹ä¸€ä¸‹<strong>Handler</strong>çš„æ¶ˆæ¯åˆ†å‘æ–¹æ³•ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	/**
     * Handle system messages here.
     */
    public void dispatchMessage(Message msg) {
        if (msg.callback != null) {
            handleCallback(msg);
        } else {
            if (mCallback != null) {
                if (mCallback.handleMessage(msg)) {
                    return;
                }
            }
            handleMessage(msg);
        }
    }
    
    private static void handleCallback(Message message) {
        message.callback.run();
    }
</code></pre>
</div>
<p>è¿˜è®°å¾—ä¸Šä¸€ç¯‡ä¸­æœ€åçº¿ç¨‹åœç•™çš„é‚£ä¸ªæ­»å¾ªç¯å—ï¼Œé‡Œé¢æœ‰ä¸€è¡Œä»£ç <code class="highlighter-rouge"> msg.target.dispatchMessage(msg);</code>,è¿™é‡Œæ¯æ¬¡å–å‡ºçš„<strong>Message</strong>éƒ½ä¼šè¢«å®ƒå¯¹åº”çš„<strong>target</strong>ä¹Ÿå°±æ˜¯<strong>Handler</strong>å¯¹è±¡åˆ†å‘ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¿™æ®µä»£ç ã€‚</p>

<p>å¯ä»¥çœ‹åˆ°é¦–å…ˆä¼šåˆ¤æ–­<strong>Message</strong>å¯¹è±¡è‡ªå·±çš„<strong>callback</strong>æ˜¯å¦ä¸ºç©ºï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>Runnable</strong>å¯¹è±¡ï¼Œå¦‚æœä¸ä¸ºç©ºç›´æ¥è°ƒç”¨<strong>callback</strong>çš„<strong>run()</strong>æ–¹æ³•ï¼Œå¦åˆ™åˆ¤æ–­<strong>handler</strong>çš„å±æ€§<strong>mCallback</strong>æ˜¯å¦ä¸ºç©ºï¼Œå±æ€§ä»‹ç»çš„æ—¶å€™å·²ç»è®²è¿‡è¿™ä¸ªäº†ï¼Œå¦‚æœä¸ä¸ºç©ºåˆ™åˆ™è°ƒç”¨<strong>mCallback.handleMessage(msg)</strong>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›trueå°±ç›´æ¥returnï¼Œå¦åˆ™è°ƒç”¨<strong>handler</strong>çš„<strong>handlerMessage(msg)</strong>æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦ç»§æ‰¿<strong>Handler</strong>è¦å®ç°çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ˜¯ä¸æ˜¯æœ‰ç‚¹ç±»ä¼¼äºAndroidç³»ç»Ÿçš„å±å¹•äº‹ä»¶ä¼ é€’æœºåˆ¶å‘¢ï¼Ÿå“ˆå“ˆ~</p>

<p>è¯è¯´ç¬¬ä¸€ç¯‡é‡Œæœ‰ä¸ªå‘è¿˜æ²¡å¡«ï¼Œå°±æ˜¯å¦‚ä½•åœ¨å·¥ä½œçº¿ç¨‹åˆ›å»ºä½¿ç”¨<strong>Handler</strong>ï¼Œä¸è¿‡ç›¸ä¿¡çœ‹åˆ°è¿™é‡Œçš„åŒå­¦åº”è¯¥å·²ç»å¿ƒé‡Œæœ‰åº•äº†å§ï¼Œå‚è€ƒä¸Šä¸€ç¯‡ä¸­<strong>ActivityThread</strong>ä¸­çš„<strong>main()</strong>æ–¹æ³•ï¼Œå¾ˆå®¹æ˜“åˆ›å»ºè‡ªå·±çš„æ— çº¿å¾ªç¯å·¥ä½œçº¿ç¨‹äº†ï¼Œä¸‹é¢ç›´æ¥ç»™å‡ºä»£ç ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	new Thread(){
            Handler handler;
            @Override
            public void run() {
                super.run();
                Looper.prepare();
                 handler = new Handler(){
                    @Override
                    public void handleMessage(Message msg) {
                        super.handleMessage(msg);
                        //handler the message
                    }
                };
                Looper.loop();
            }
        };
</code></pre>
</div>
<p>ä»¥ä¸Šï¼Œå³åœ¨å·¥ä½œçº¿ç¨‹ä¸­åˆ›å»ºäº†<strong>handler</strong>,ç„¶åå°†<strong>handler</strong>çš„å¼•ç”¨ä¸¢ç»™åˆ«çš„çº¿ç¨‹ï¼Œåˆ«çš„çº¿ç¨‹å°±å¯ä»¥é€šè¿‡<strong>handler</strong>å‘æ¶ˆæ¯åˆ°è¿™ä¸ªå·¥ä½œçº¿ç¨‹æ¥å¤„ç†ã€‚</p>

<p><strong>Handler</strong>å¯¹äºæ¶ˆæ¯çš„åˆ†å‘å’Œå¤„ç†çš„é€»è¾‘æ€»ç®—è¯´å®Œäº†ï¼Œæ¥ä¸‹å»çœ‹çœ‹<strong>Message</strong>æ˜¯å¦‚ä½•è¢«é€åˆ°<strong>Handler</strong>çš„ã€‚
å…ˆçœ‹ä¸‹<strong>Message</strong>çš„åŸºæœ¬ä¿¡æ¯å§ï¼š</p>

<ul>
  <li>
    <p><strong>int what:</strong></p>

    <p>è¡¨æ˜æ¶ˆæ¯çš„ç±»åˆ«ï¼Œ<strong>handler</strong>æ ¹æ®è¿™ä¸ªå­—æ®µæ¥åˆ¤æ–­å¦‚ä½•å¤„ç†è¿™ä¸ª<strong>Message</strong></p>
  </li>
  <li>
    <p><strong>Bundle dataï¼š</strong></p>

    <p>ç”¨äºå­˜æ”¾æ•°æ®ï¼Œå¯ä»¥å­˜æ”¾ä¸€äº›ç›¸å¯¹å¤æ‚çš„å†…å®¹ï¼Œå› æ­¤å¼€é”€ç¨å¾®å¤§ä¸€ç‚¹</p>
  </li>
  <li>
    <p><strong>int arg1,arg2:</strong></p>

    <p>ä¸¤ä¸ªåŸºæœ¬ç±»å‹çš„å‚æ•°ï¼Œç”¨äºä¼ é€’ä¸€äº›ç®€å•çš„<strong>Message</strong>ä¿¡æ¯ï¼Œå¯ä»¥çš„è¯å°½é‡ç”¨è¿™ä¸¤ä¸ªå‚æ•°æ¥ä¼ é€’ä¿¡æ¯ï¼Œç›¸å¯¹äº<strong>Bundle data</strong>å®ƒæ€§èƒ½æ¶ˆè€—ä¼šå°å¾ˆå¤š</p>
  </li>
  <li>
    <p><strong>int flags:</strong></p>

    <p>å½“å‰<strong>Message</strong>çŠ¶æ€çš„ä¸€ä¸ªæ ‡å¿—ä½ï¼Œç±»ä¼¼å¼‚æ­¥ï¼Œä½¿ç”¨ä¸­è¿™äº›çŠ¶æ€</p>
  </li>
  <li>
    <p><strong>long whenï¼š</strong></p>

    <p>è¡¨ç¤ºè¿™ä¸ª<strong>Message</strong>åº”è¯¥åœ¨ä½•æ—¶è¢«æ‰§è¡Œï¼Œ<strong>MessageQueue</strong>ä¸­<strong>Message</strong>å°±æ˜¯ä»¥è¿™ä¸ªå­—æ®µä¸ºæ¥æ’åºçš„</p>
  </li>
  <li>
    <p><strong>Handler targetï¼š</strong></p>

    <p><strong>Message</strong>å°†è¦è¢«å‘é€çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ç”±å“ªä¸ªtargetæ¥æ¥å—å¤„ç†è¿™ä¸ª<strong>Message</strong>ï¼Œ<strong>è¿™ä¸ªå­—æ®µå¿…é¡»ä¸ä¸ºnull</strong></p>
  </li>
  <li>
    <p><strong>Runnable callbackï¼š</strong></p>

    <p>è¿™ä¸ªè®²<strong>handler</strong>çš„æ—¶å€™è¯´åˆ°è¿‡äº†ï¼Œå¦‚æœæœ‰è¿™ä¸ªå­—æ®µï¼Œé‚£ä¹ˆè¿™ä¸ª<strong>Message</strong>å°†ç”±æ­¤<strong>callback</strong>æ¥å¤„ç†ï¼Œæ³¨æ„ä¸‹ï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>Runnable</strong></p>
  </li>
  <li>
    <p><strong>Message next:</strong></p>

    <p>ç”±äº<strong>Message</strong>åœ¨æ¶ˆæ¯æ± ä¸­æ˜¯é“¾è¡¨çš„å½¢å¼ç»´æŠ¤çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå­—æ®µè¡¨ç¤ºä¸‹ä¸€ä¸ª<strong>Message</strong>å¯¹è±¡</p>
  </li>
  <li>
    <p><strong>static Message sPoolï¼š</strong></p>

    <p>è¿™ä¸ªæ˜¯é™æ€å˜é‡ï¼ŒæŒ‡å‘å½“å‰æ¶ˆæ¯æ± çš„ç¬¬ä¸€ä¸ªç©ºé—²<strong>Message</strong></p>
  </li>
  <li>
    <p><strong>static int sPoolSize:</strong></p>

    <p>æ¶ˆæ¯æ± çš„å¤§å°ï¼Œä¹Ÿå°±æ˜¯å‰©ä½™ç©ºé—²<strong>Message</strong>çš„æ•°é‡</p>
  </li>
  <li>
    <p><strong>static final int MAX_POOL_SIZE = 50;</strong></p>

    <p>ä¸ç”¨è§£é‡Šäº†å§ï¼Ÿ</p>
  </li>
</ul>

<p>å†è´´ä¸€ä¸‹ä¾‹å­ä¸­çš„ç¬¬äºŒæ®µä»£ç ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	new Thread(){
            @Override
            public void run() {
                super.run();
                Message message = Message.obtain();
                message.what = TEST;
                Bundle bundle =new Bundle();
                bundle.putString("test key","test value");
                message.setData(bundle);
       			handler.sendMessage(msg);                
            }
        }.start();
        
</code></pre>
</div>

<p><strong>Message</strong>çš„è·å–æ–¹å¼ç‰¹åˆ«å¤šï¼Œé™¤äº†è‡ªå·±newä¸€ä¸ªå¤–ï¼Œå…¶ä»–åŸºæœ¬éƒ½å¤§åŒå°å¼‚ï¼Œæœ€ç»ˆéƒ½ä»<strong>Message</strong>æ¶ˆæ¯æ± å–ä¸€ä¸ªç©ºé—²çš„<strong>Message</strong>ä½¿ç”¨ï¼Œå› ä¸ºAndroidç³»ç»Ÿä¸­åˆ°å¤„éƒ½ç”¨åˆ°äº†<strong>Message</strong>ï¼Œå› æ­¤ä¼šéœ€è¦å¤§é‡çš„<strong>Message</strong>å¯¹è±¡ï¼Œä½¿ç”¨æ¶ˆæ¯æ± çš„æ–¹å¼å¯ä»¥å‡å°‘é¢‘ç¹çš„åˆ›å»ºé”€æ¯å¯¹è±¡ï¼Œå¤§å¤§çš„æé«˜æ€§èƒ½ã€‚æˆ‘è¿™é‡Œç›´æ¥ç”¨æœ€åŸºæœ¬çš„æ–¹å¼è·å–ï¼Œ<code class="highlighter-rouge">Message.obtain();</code>,çœ‹æºç å§ï¼š</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	/**
     * Return a new Message instance from the global pool. Allows us to
     * avoid allocating new objects in many cases.
     */
    public static Message obtain() {
        synchronized (sPoolSync) {
            if (sPool != null) {
                Message m = sPool;
                sPool = m.next;
                m.next = null;
                m.flags = 0; // clear in-use flag
                sPoolSize--;
                return m;
            }
        }
        return new Message();
    }
</code></pre>
</div>
<p>å¯¹ç€ä¸Šé¢çš„å­—æ®µä»‹ç»ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºè¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯å°†æ¶ˆæ¯æ± çš„ç¬¬ä¸€ä¸ªç©ºé—²<strong>Message</strong>æ‹¿å‡ºæ¥ï¼Œç„¶åæ¶ˆæ¯æ± çš„æ•°é‡å‡1ï¼Œå½“ç„¶å¦‚æœæ¶ˆæ¯æ± å·²ç»æ²¡ç”¨ç©ºé—²<strong>Message</strong>äº†ï¼Œé‚£å°±newä¸€ä¸ªè¿”å›äº†ã€‚</p>

<p>ä¾‹å­ä¸­åªç”¨åˆ°äº†<strong>what</strong>å’Œ<strong>data</strong>å­—æ®µï¼Œç®€å•ç»™å®ƒä»¬èµ‹äº†å€¼ï¼Œç„¶åå°±è°ƒç”¨<strong>handler.sendMessage(msg); **å°†æ¶ˆæ¯å‘é€ç»™äº†æˆ‘ä»¬åœ¨ä¸»çº¿ç¨‹åˆ›å»ºçš„</strong>handler**äº†ã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	public final boolean sendMessage(Message msg)
    {
        return sendMessageDelayed(msg, 0);
    }
    
    public final boolean sendMessageDelayed(Message msg, long delayMillis)
    {
        if (delayMillis &lt; 0) {
            delayMillis = 0;
        }
        return sendMessageAtTime(msg, SystemClock.uptimeMillis() + delayMillis);
    }
    
    /**
     * Enqueue a message into the message queue after all pending messages
     * before the absolute time (in milliseconds) &lt;var&gt;uptimeMillis&lt;/var&gt;.
     * &lt;b&gt;The time-base is {@link android.os.SystemClock#uptimeMillis}.&lt;/b&gt;
     * Time spent in deep sleep will add an additional delay to execution.
     * You will receive it in {@link #handleMessage}, in the thread attached
     * to this handler.
     * 
     * @param uptimeMillis The absolute time at which the message should be
     *         delivered, using the
     *         {@link android.os.SystemClock#uptimeMillis} time-base.
     *         
     * @return Returns true if the message was successfully placed in to the 
     *         message queue.  Returns false on failure, usually because the
     *         looper processing the message queue is exiting.  Note that a
     *         result of true does not mean the message will be processed -- if
     *         the looper is quit before the delivery time of the message
     *         occurs then the message will be dropped.
     */
    public boolean sendMessageAtTime(Message msg, long uptimeMillis) {
        MessageQueue queue = mQueue;
        if (queue == null) {
            RuntimeException e = new RuntimeException(
                    this + " sendMessageAtTime() called with no mQueue");
            Log.w("Looper", e.getMessage(), e);
            return false;
        }
        return enqueueMessage(queue, msg, uptimeMillis);
    }
</code></pre>
</div>
<p>å‰é¢ä¸¤ä¸ªæ–¹æ³•çš„æ³¨é‡Šæˆ‘æ²¡è´´ï¼Œå› ä¸ºè·Ÿç¬¬ä¸‰ä¸ªæ–¹æ³•å†…å®¹å·®ä¸å¤šï¼Œè€Œä¸”æœ€ç»ˆä¹Ÿéƒ½æ˜¯è°ƒç”¨ç¬¬ä¸‰ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥çœ‹äº†ç¬¬ä¸‰ä¸ªæ–¹æ³•çš„æ³¨é‡Šå’Œæ–¹æ³•ä½“åº”è¯¥å¾ˆå®¹æ˜“æ˜ç™½å‰ä¸¤ä¸ªæ–¹æ³•çš„ä½œç”¨ã€‚
ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯ç›´æ¥å°†æ¶ˆæ¯å‘é€handlerå¤„ç†ï¼Œæ‰€ä»¥å®ƒä½¿ç”¨0æ¯«ç§’çš„å»¶æ—¶ä½œä¸ºå‚æ•°è°ƒç”¨ç¬¬äºŒä¸ªæ–¹æ³•ï¼Œç¬¬äºŒä¸ªæ–¹æ³•åˆ¤æ–­å¦‚æœå»¶æ—¶å°äº0åˆ™é»˜è®¤ç»™0ï¼Œå› ä¸ºå°äº0çš„å»¶è¿Ÿä¹Ÿå°±æ„å‘³ç€æ¯”å½“å‰æ—¶é—´æ—©ï¼Œå½“ç„¶ä¸å¯èƒ½å›åˆ°è¿‡å»å¤„ç†è¿™ä¸ªæ¶ˆæ¯äº†ï¼Œç„¶åå®ƒåˆå°†å½“å‰æ—¶é—´åŠ ä¸Šå»¶æ—¶ï¼Œè°ƒç”¨äº†ç¬¬ä¸‰ä¸ªæ–¹æ³•ï¼Œè¿™æ ·ç¬¬ä¸‰ä¸ªæ–¹æ³•æ‹¿åˆ°çš„æ—¶é—´å°±æ˜¯ä¸€ä¸ªç»å¯¹å€¼äº†ï¼Œç„¶åæˆ‘ä»¬çœ‹åˆ°äº†<strong>mQueue</strong>ï¼Œè¿™ä¸ªåˆ›å»º<strong>handler</strong>çš„æ—¶å€™æˆ‘ä»¬å°±çœ‹åˆ°äº†ï¼ŒæŒ‡å‘ä¸»çº¿ç¨‹å¯¹åº”çš„<strong>Looper</strong>ä¸­çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ€åreturnäº†ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œçœ‹åå­—ç»ˆäºè¦åŠ å…¥æ¶ˆæ¯é˜Ÿåˆ—äº†ã€‚</p>

<div class="highlighter-rouge"><pre class="highlight"><code> 	private boolean enqueueMessage(MessageQueue queue, Message msg, long uptimeMillis) {
        msg.target = this;
        if (mAsynchronous) {
            msg.setAsynchronous(true);
        }
        return queue.enqueueMessage(msg, uptimeMillis);
    }
</code></pre>
</div>
<p>ç­‰ç­‰ï¼ŒåŸæ¥æˆ‘ä»¬åˆšæ‰å‘é€çš„<strong>Message</strong>è¿˜æ²¡å¯¹è±¡å‘¢ï¼Œé‚£å•¥ï¼Œæˆ‘ä¸æ˜¯è¯´é‚£ä¸ªå¯¹è±¡ï¼Œæ­£ç»ç‚¹å„¿ï¼æ‰€ä»¥åŠ å…¥æ¶ˆæ¯é˜Ÿåˆ—å‰å…ˆç»™å®ƒä¸€ä¸ªå¯¹è±¡å§ï¼ç„¶åå¦‚æœæˆ‘ä»¬çš„<strong>handler</strong>æ˜¯å¼‚æ­¥çš„å°†<strong>msg</strong>çš„<strong>flag</strong>æ ‡å¿—ä½åŠ ä¸Šæˆå¼‚æ­¥,è¿™ä¸‹<strong>msg</strong>å¼€å¼€å¿ƒå¿ƒåœ°é¢†ç€å¯¹è±¡å»æ’é˜Ÿäº†~</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	//MessageQueue
	boolean enqueueMessage(Message msg, long when) {
        if (msg.target == null) {
            throw new IllegalArgumentException("Message must have a target.");
        }
        if (msg.isInUse()) {
            throw new IllegalStateException(msg + " This message is already in use.");
        }

        synchronized (this) {
            if (mQuitting) {
                IllegalStateException e = new IllegalStateException(
                        msg.target + " sending message to a Handler on a dead thread");
                Log.w(TAG, e.getMessage(), e);
                msg.recycle();
                return false;
            }

            msg.markInUse();
            msg.when = when;
            Message p = mMessages;
            boolean needWake;
            if (p == null || when == 0 || when &lt; p.when) {
                // New head, wake up the event queue if blocked.
                msg.next = p;
                mMessages = msg;
                needWake = mBlocked;
            } else {
                // Inserted within the middle of the queue.  Usually we don't have to wake
                // up the event queue unless there is a barrier at the head of the queue
                // and the message is the earliest asynchronous message in the queue.
                needWake = mBlocked &amp;&amp; p.target == null &amp;&amp; msg.isAsynchronous();
                Message prev;
                for (;;) {
                    prev = p;
                    p = p.next;
                    if (p == null || when &lt; p.when) {
                        break;
                    }
                    if (needWake &amp;&amp; p.isAsynchronous()) {
                        needWake = false;
                    }
                }
                msg.next = p; // invariant: p == prev.next
                prev.next = msg;
            }

            // We can assume mPtr != 0 because mQuitting is false.
            if (needWake) {
                nativeWake(mPtr);
            }
        }
        return true;
    }

</code></pre>
</div>
<p>é¦–å…ˆåˆ¤æ–­<strong>Message</strong>çš„å¯¹è±¡<strong>target</strong>æ˜¯å¦ä¸ºç©º(æ‰€ä»¥è¯´<strong>Message</strong>ä¸èƒ½æ²¡æœ‰å¯¹è±¡<strong>target</strong>),ç„¶ååˆ¤æ–­<strong>Message</strong>æ˜¯å¦æ­£åœ¨ä½¿ç”¨ä¸­,åœ¨ç»å†çš„å‰é¢çš„å…¥é˜Ÿæ­¥éª¤åï¼Œæˆ‘ä»¬è¿™ä¸ª<strong>Message</strong>éƒ½æ»¡è¶³äº†æ¡ä»¶ï¼Œç„¶åè¿›å…¥ä¸€ä¸ªåŒæ­¥å—ï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯å¦æ­£åœ¨é€€å‡ºä¸­ï¼Œå› ä¸ºä¸»çº¿ç¨‹æ˜¯ä¸å¯é€€å‡ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸ç”¨è€ƒè™‘ï¼Œä¸è¿‡é‡Œé¢æ–¹æ³•ä¹Ÿæ˜¯ä¸€ç›®äº†ç„¶ï¼Œå›æ”¶<strong>Message</strong>,è¿”å›<strong>false</strong>é€šçŸ¥ä¸Šå±‚å…¥é˜Ÿå¤±è´¥ã€‚æˆ‘ä»¬ç»§ç»­çœ‹æ»¡è¶³æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œå°†<strong>Message</strong>æ ‡è®°ä¸ºåœ¨ä½¿ç”¨ä¸­(<code class="highlighter-rouge">msg.markInUse()</code>),ç»™<strong>when</strong>å­—æ®µèµ‹å€¼ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡æŒ‡å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªæ¶ˆæ¯<strong>mMessage</strong>ï¼Œå®šä¹‰äº†ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„å­—æ®µ<strong>needWake</strong>,è¡¨ç¤ºæ˜¯å¦éœ€è¦å”¤é†’å½“å‰çº¿ç¨‹ï¼Œå› ä¸ºæ²¡æœ‰æ¶ˆæ¯éœ€è¦å¤„ç†çš„æ—¶å€™æˆ‘ä»¬çš„Looperçº¿ç¨‹æ˜¯é˜»å¡çš„ã€‚å½“æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªæ¶ˆæ¯ä¸º<strong>null</strong>æˆ–è€…æˆ‘ä»¬æœ¬æ¬¡éœ€è¦å…¥é˜Ÿçš„æ¶ˆæ¯å¯¹è±¡<strong>msg</strong>çš„<strong>when</strong>ä¸º0æˆ–è€…å°äºåŸæ¥çš„é˜Ÿé¦–æ¶ˆæ¯çš„<strong>when</strong>å€¼ï¼Œåˆ™å°†<strong>msg</strong>æ’å…¥åˆ°æ¶ˆæ¯é˜Ÿåˆ—çš„é˜Ÿé¦–ï¼Œä¹Ÿå°±æ˜¯<strong>mMessage</strong>ä¹‹å‰ï¼Œç„¶å<strong>mMessage</strong>é‡æ–°æŒ‡å‘æ–°çš„é˜Ÿé¦–ï¼Œä¹Ÿå°±æ˜¯<strong>msg</strong>ï¼›å½“é‚£äº›æ¡ä»¶ä¸æ»¡è¶³çš„æ—¶å€™ï¼Œåˆ™éœ€è¦å°†<strong>msg</strong>æ’å…¥åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­è€Œä¸æ˜¯é˜Ÿé¦–ï¼Œæ’å…¥çš„æ–¹å¼ä¹Ÿå¾ˆç®€å•é™¤æš´ï¼Œéå†åŸé˜Ÿåˆ—çš„æ¶ˆæ¯ï¼Œä¾æ¬¡æ¯”å¯¹<strong>when</strong>çš„å€¼ï¼Œç›´åˆ°é˜Ÿå°¾æˆ–è€…æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ¶ˆæ¯çš„<strong>when</strong>å€¼æ¯”<strong>msg</strong>çš„<strong>when</strong>å€¼å¤§çš„æ—¶å€™è·³å‡ºå¾ªç¯ï¼Œå°†<strong>msg</strong>æ’åˆ°å…¶ä¸­ï¼Œè¿™ä¸ªå…¥é˜Ÿçš„è¿‡ç¨‹ä¹Ÿå°±å®Œæˆäº†ï¼Œéƒ½æ˜¯ä¸€äº›é“¾è¡¨çš„åŸºæœ¬æ“ä½œã€‚ä¹‹å‰ä¹Ÿæœ‰è¯´åˆ°ï¼Œå› ä¸ºæ¯æ¬¡æœ‰æ¶ˆæ¯è¿›å…¥<strong>mQueue</strong>ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä»¥è¿™ç§æ–¹å¼æ¥æ’å…¥çš„ï¼Œæ‰€ä»¥æœ‰åºçš„æ¶ˆæ¯é˜Ÿåˆ—å°±æ˜¯ç®€å•ä»¥æ¶ˆæ¯çš„<strong>when</strong>çš„å¤§å°æ¥æ’åºçš„ã€‚æ¶ˆæ¯æ’å…¥åˆ°æ¶ˆæ¯é˜Ÿåˆ—å®Œæˆåï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦å”¤é†’ä¸»çº¿ç¨‹ï¼Œéœ€è¦åˆ™è°ƒç”¨nativeæ–¹æ³•<strong>nativeWake()</strong>å”¤é†’ä¸»çº¿ç¨‹æ¥å¤„ç†æ¶ˆæ¯ï¼ˆ<code class="highlighter-rouge"> Message msg = queue.next();//Looper.loop()æ–¹æ³•ä¸­è¢«å”¤é†’åå–å‡ºæ¶ˆæ¯å¹¶åˆ†å‘å¤„ç†</code>ï¼‰ã€‚æœ€åè¿”å›<strong>true</strong>è¡¨æ˜æ¶ˆæ¯æ’å…¥é˜Ÿåˆ—æˆåŠŸã€‚è¿™æ ·<strong>Message</strong>å…¥é˜Ÿçš„è¿‡ç¨‹å°±ç®—å®Œæˆäº†ï¼Œæ˜¯ä¸æ˜¯æŒºç®€å•çš„~</p>

<p>ä»¥ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ¶ˆæ¯ä¼ é€’å’Œåˆ†å‘è¿‡ç¨‹ã€‚å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬ç”¨åˆ°æ›´å¤šçš„å¯èƒ½æ˜¯<code class="highlighter-rouge">handler.post(runnable);</code>,<code class="highlighter-rouge">handler.postDelayed(runnable,delayMillis);</code>,<code class="highlighter-rouge">view.postDelayed(runnable,delayMillis);</code>ä¹‹ç±»çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•çœ‹ä¸Šå»å¥½åƒæ²¡æœ‰<strong>Message</strong>ä»€ä¹ˆäº‹ï¼Œä½†æ˜¯ç‚¹è¿›å»ä¸€çœ‹å°±å‘ç°ï¼Œè¿™ä¸ªè¢«postçš„<strong>runnable</strong>å°±æ˜¯<strong>Message</strong>çš„<strong>callback</strong>ï¼Œç®€å•å°è£…ä¸€ä¸‹å°±åˆèµ°ä¸Šäº†åˆšåˆšè®²å®Œçš„æ¶ˆæ¯ä¼ é€’è·¯çº¿ï¼Œè¿˜æ²¡ååº”è¿‡æ¥çš„å›å¤´çœ‹çœ‹<strong>handler</strong>çš„<strong>dispatchMessage(Message msg)</strong>æ–¹æ³•ï¼Œå› æ­¤è¿™äº›æ–¹å¼æˆ‘ä»¬éƒ½ä¸ç”¨é‡å†™<strong>handleMessage(Message msg)</strong>æ–¹æ³•,ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚<strong><em>å‹æƒ…æç¤ºï¼šéå¸¸æ–¹ä¾¿çš„åŒæ—¶ä¹Ÿéå¸¸å®¹æ˜“å¯¼è‡´å†…å­˜æ³„éœ²ã€ç©ºæŒ‡é’ˆå’Œå…¶ä»–ä¸€äº›çŠ¶æ€ç´Šä¹±çš„é”™è¯¯ï¼ˆåˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„ï¼Œæ­»è¿‡å¤ªå¤šè„‘ç»†èƒğŸ˜­ï¼‰ï¼Œæ…ç”¨ï¼ï¼ï¼</em></strong></p>


  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <!--<h2 class="footer-heading">coder_yu's BLOG</h2>-->
    <div style="color:#828282">
     <p>è¿™é‡Œçš„æ–‡ç« æ’ç‰ˆæ¯”è¾ƒä¸‘ï¼Œæœ‰æ—¶é—´äº†åœ¨æ…¢æ…¢æ•´ç†ï¼Œç®€ä¹¦ä¸Šçš„æ’ç‰ˆä¼šå¥½å¾ˆå¤š~~æ¬¢è¿æŒ‡å‡ºæ–‡ç« ä¸­çš„é”™è¯¯æˆ–è€…ä¸è¶³ä¹‹å¤„.</p>
    </div>
    
    <div class="footer-col-wrapper">


      <div style="padding-left: 15px">
        æˆ‘çš„ç®€ä¹¦ï¼š<a href="http://www.jianshu.com/u/f8b015eee27a">http://www.jianshu.com/u/f8b015eee27a</a>
      </div>

      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <!-- <li>coder_yu's BLOG</li> -->
          <li>emailï¼š<a href="mailto:coder_yu@126.com">coder_yu@126.com</a></li>
        </ul>
      </div>

      <!-- <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/coderYu"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">coderYu</span></a>

          </li>
          

          

          
        </ul>
      </div> -->

      <!-- <div class="footer-col footer-col-3">
        <p>è¿™é‡Œçš„æ–‡ç« æ’ç‰ˆæ¯”è¾ƒä¸‘ï¼Œæœ‰æ—¶é—´äº†åœ¨æ…¢æ…¢æ•´ç†ï¼Œç®€ä¹¦ä¸Šçš„æ’ç‰ˆä¼šå¥½å¾ˆå¤š~~æ¬¢è¿æŒ‡å‡ºæ–‡ç« ä¸­çš„é”™è¯¯æˆ–è€…ä¸è¶³ä¹‹å¤„.</p>
      </div> -->
    </div>

  </div>

</footer>


  </body>

</html>
